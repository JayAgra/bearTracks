<!DOCTYPE html>
<html lang="en">
<head>
    <title>Settings - 766 Scouting</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Scouting">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="/app.webmanifest"/>
    <link rel="stylesheet" href="2023_float.min.css" type="text/css">
    <link rel="apple-touch-icon" sizes="180x180" href="public/icon.png">
    <script src="form.min.js"></script>
    <style>
        body {
            text-align: center;
        }
    </style>
</head>
<body id="body" onload="themeHandle()">
    <div class="container">
        <div class="dummy">
            <h1 style="font-family: 'raleway-300'">2023 Scouting<br><span class="gametitle">CHARGED UPâ„ </span></h1>
            <h2>Settings</h2><br>
            <button style="background-color: rgba(0,0,0,0); border: 2px solid gray; color: gray; border-radius: 10px; padding: 5px; font-weight: 700; width: 75%;" onclick="changeTheme()">
                <p>Switch Theme</p>
            </button><br><br>
            <button style="background-color: rgba(0,0,0,0); border: 2px solid #f00; color: #f00; border-radius: 10px; padding: 5px; font-weight: 700; width: 75%;" onclick="updateSW()">
                <p>Update SW</p>
            </button><br><br>
            <button style="background-color: rgba(0,0,0,0); border: 2px solid #f00; color: #f00; border-radius: 10px; padding: 5px; font-weight: 700; width: 75%;" onclick="window.location.href='clearCookies'">
                <p>Reset Cookies</p>
            </button><br><br>
            <button style="background-color: rgba(0,0,0,0); border: 2px solid #f00; color: #f00; border-radius: 10px; padding: 5px; font-weight: 700; width: 75%;" onclick="window.location.href='logout'">
                <p>Log Out</p>
            </button><br><br>
            <button style="background-color: rgba(0,0,0,0); border: 2px solid gray; color: gray; border-radius: 10px; padding: 5px; font-weight: 700; width: 75%;" onclick="window.location.href='/'">
                <p>Back</p>
            </button>
        </div>
    </div>
    <script>
        async function updateSW() {
            if(window.navigator && navigator.serviceWorker) {
                const url = window.location.protocol + '//' + window.location.host + '/sw.js';
                navigator.serviceWorker.getRegistration(url).then(function (sw) {
                    if (sw) {
                        sw.unregister().then(() => {
                            navigator.serviceWorker.register('sw.js');
                        });
                    }
                });
            }
        }
        function changeTheme() {
            let theme = getThemeCookie();
            switch (theme) {
                case "light":
                    document.cookie = "4c454a5b1bedf6a1=dark; expires=Fri, 31 Dec 9999 23:59:59 GMT";
                break;
                case "dark":
                    document.cookie = "4c454a5b1bedf6a1=light; expires=Fri, 31 Dec 9999 23:59:59 GMT";
                break;
                case undefined:
                    document.cookie = "4c454a5b1bedf6a1=dark; expires=Fri, 31 Dec 9999 23:59:59 GMT";
                break;
                default:
                    document.cookie = "4c454a5b1bedf6a1=dark; expires=Fri, 31 Dec 9999 23:59:59 GMT";
            }
            themeHandle()
        }
    </script>
</body>
</html>