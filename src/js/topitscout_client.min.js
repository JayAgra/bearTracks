const waitMs=e=>new Promise(t=>{setTimeout(t,e)});function goToHome(){window.location.href="/"}function getAllTeams(){eventCode=document.getElementById("eventCode").value,document.getElementById("viewTeamsButton").innerHTML="Requesting Data...";let e=new XMLHttpRequest;e.open("GET",`/api/events/${eventCode}/teams`,!0),e.withCredentials=!0,e.onreadystatechange=async()=>{if(e.readyState===XMLHttpRequest.DONE&&200===e.status)return console.log("200 ok"),console.log(e.responseText),window.allTeams=e.responseText.split(","),console.log(getDifference()),document.getElementById("eventLabel").style.display="none",document.getElementById("eventCode").insertAdjacentHTML("afterend",`<div id="unscouted"><br><span>To Scout: </span><br>${getDifference().join("<br>")}</div>`),document.getElementById("eventCode").style.display="none",document.getElementById("viewTeamsButton").innerHTML="Done!",0;401===e.status?(console.log("401 failure"),document.getElementById("viewTeamsButton").innerHTML="401 Unauthorized",await waitMs(1e3),window.location.href="/login"):400===e.status?(console.log("400 failure"),document.getElementById("viewTeamsButton").innerHTML="400 Bad Request"):500===e.status?(console.log("500 failure"),document.getElementById("viewTeamsButton").innerHTML="500 Internal Server Error"):(console.log("awaiting response"),document.getElementById("viewTeamsButton").innerHTML="Downloading Data...")},e.send()}function getScoutedTeams(){eventCode=document.getElementById("eventCode").value,document.getElementById("viewTeamsButton").innerHTML="Requesting Data...";let e=new XMLHttpRequest;e.open("GET",`/api/events/${eventCode}/pitscoutedteams`,!0),e.withCredentials=!0,e.onreadystatechange=async()=>{if(e.readyState===XMLHttpRequest.DONE&&200===e.status)return console.log("200 ok"),console.log(e.responseText),window.scoutedTeams=e.responseText.split(","),getAllTeams(),0;401===e.status?(console.log("401 failure"),document.getElementById("viewTeamsButton").innerHTML="401 Unauthorized",await waitMs(1e3),window.location.href="/login"):400===e.status?(console.log("400 failure"),document.getElementById("viewTeamsButton").innerHTML="400 Bad Request"):500===e.status?(console.log("500 failure"),document.getElementById("viewTeamsButton").innerHTML="500 Internal Server Error"):(console.log("awaiting response"),document.getElementById("viewTeamsButton").innerHTML="Downloading Data...")},e.send()}function getDifference(){return window.allTeams.filter(e=>!window.scoutedTeams.includes(e))}function getUnscoutedTeams(){getScoutedTeams()}window.allTeams=[],window.scoutedTeams=[];