function goToHome(){history.back()}async function getData(){var t,e;try{t=await fetch("/api/scouts",{method:"GET",credentials:"include",redirect:"follow"}),(401===t.status||403===t.status)&&(window.location.href="/login"),e=await t.json();for(var n="",a=0;a<e.length;a++)"true"==e[a].accessOk?n+=`<tr class="padded"><td>${e[a].nickName}</td><td>${e[a].score}</td><td><div class="inlineInput"><input type="tel" id="${e[a].id}_input" value="${e[a].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${e[a].id}', ${e[a].score}, this)">save</button><button class="uiButton cancelButton" onclick="revokeKey('${e[a].id}', this)">logout</button></div></td></tr>`:n+=`<tr class="padded"><td>${e[a].nickName}</td><td>${e[a].score}</td><td><div class="inlineInput"><button class="uiButton returnButton" onclick="approveUser('${e[a].id}', this)">approve user</button></div></td></tr>`;document.getElementById("tableHeader").insertAdjacentHTML("afterend",n)}catch(i){console.log("failure"),window.location.href="/login"}}async function updateUser(t,e,n){n.innerText="...";let a=Number(document.getElementById(`${t}_input`).value)-e;try{response=await fetch(`/api/manage/scout/points/${t}/${a}/${Number(document.getElementById("reason").value)}`,{method:"GET",credentials:"include",redirect:"follow"}),(401===response.status||403===response.status)&&(window.location.href="/login");let i=await response.text();3204==i?n.innerText="done":n.innerText="error"}catch(o){console.log("failure"),window.location.href="/login"}}async function approveUser(t,e){e.innerText="...";try{response=await fetch(`/api/manage/scout/access/${t}/true`,{method:"GET",credentials:"include",redirect:"follow"}),(401===response.status||403===response.status)&&(window.location.href="/login");let n=await response.text();3206==n?e.innerText="done":e.innerText="error"}catch(a){console.log("failure"),window.location.href="/login"}}async function revokeKey(t,e){e.innerText="...";try{response=await fetch(`/api/manage/scout/revokeKey/${t}`,{method:"GET",credentials:"include",redirect:"follow"}),(401===response.status||403===response.status)&&(window.location.href="/login");let n=await response.text();3207==n?e.innerText="done":e.innerText="error"}catch(a){console.log("failure"),window.location.href="/login"}}