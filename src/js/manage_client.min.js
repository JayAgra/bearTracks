function newSearch(){location.reload()}function goToHome(){window.location.href="/"}function mainOrPitLink(){return"pit"===document.getElementById("db").value?"pitimages":"detail"}function getData(){document.getElementById("viewData").innerHTML="Preparing Request...";let e=new XMLHttpRequest;e.open("GET",`/api/manage/${document.getElementById("db").value}/list`,!0),e.withCredentials=!0,e.onreadystatechange=()=>{if(e.readyState===XMLHttpRequest.DONE&&200===e.status){console.log("got list"),document.getElementById("viewData").innerHTML="generating list...";let t=JSON.parse(e.responseText);for(var n="",a=t.length-1;a>=0;a--)n+=`<fieldset style="background-color: "><span><span>ID:&emsp;${t[a].id}</span>&emsp;&emsp;<span><a href="/${mainOrPitLink()}?id=${t[a].id}" style="all: unset; color: #2997FF; text-decoration: none;">View</a>&emsp;<span onclick="deleteSubmission('${document.getElementById("db").value}', ${t[a].id}, '${document.getElementById("db").value}${t[a].id}')" style="color: red" id="${document.getElementById("db").value}${t[a].id}">Delete</span></span></span></fieldset>`;document.getElementById("results").insertAdjacentHTML("afterbegin",n),document.getElementById("search").style.display="none",document.getElementById("results").style.display="flex"}else 403===e.status?(console.log("failure"),document.getElementById("viewData").innerHTML="403 access denied"):500===e.status?(console.log("failure"),document.getElementById("viewData").innerHTML="500 internal server error"):(console.log("awaiting response"),document.getElementById("viewData").innerHTML="downloading list...")},e.send()}function deleteSubmission(e,t,n){document.getElementById(n).innerHTML="Preparing Request...";let a=new XMLHttpRequest;a.open("GET",`/api/manage/${e}/${t}/delete`,!0),a.withCredentials=!0,a.onreadystatechange=()=>{a.readyState===XMLHttpRequest.DONE&&200===a.status?(console.log(a.responseText),document.getElementById(n).innerHTML="deleted!"):403===a.status?(console.log("failure"),document.getElementById(n).innerHTML="403 access denied"):500===a.status?(console.log("failure"),document.getElementById(n).innerHTML="500 bad request"):(console.log("awaiting response"),document.getElementById(n).innerHTML="deleting...")},a.send()}