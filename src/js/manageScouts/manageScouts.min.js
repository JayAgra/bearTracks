import{_get as t}from"../_modules/get/get.min.js";async function getScoutsDataMgmt(){t("/api/scouts",null).then(t=>{for(var n="",e=0;e<t.length;e++)"true"==t[e].accessOk?"true"==t[e].admin?n+=`<tr class="padded"><td>${t[e].username} (${t[e].team})</td><td><div class="inlineInput"><input type="tel" id="${t[e].id}_input" value="${t[e].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${t[e].id}', ${t[e].score}, this)">save</button></div></td><td><div class="inlineInput"><button class="uiButton cancelButton" onclick="userAdminAction('${t[e].id}', 'revokeKey', this)">logout</button><button class="uiButton cancelButton" onclick="modifyAdmin('${t[e].id}', this, false)">remove admin</button></div></td></tr>`:0!==t[e].teamAdmin?n+=`<tr class="padded"><td>${t[e].username} (${t[e].team})</td><td><div class="inlineInput"><input type="tel" id="${t[e].id}_input" value="${t[e].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${t[e].id}', ${t[e].score}, this)">save</button></div></td><td><div class="inlineInput"><button class="uiButton cancelButton" onclick="userAdminAction('${t[e].id}', 'revokeKey', this)">logout</button><button class="uiButton cancelButton" onclick="modifyTeamAdmin('${t[e].id}', '0', this)">remove team admin</button><button class="uiButton cancelButton" onclick="modifyAdmin('${t[e].id}', this, true)">make admin</button><button class="uiButton cancelButton" onclick="userAdminAction('${t[e].id}', 'delete', this)">delete user</button></div></td></tr>`:n+=`<tr class="padded"><td>${t[e].username} (${t[e].team})</td><td><div class="inlineInput"><input type="tel" id="${t[e].id}_input" value="${t[e].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${t[e].id}', ${t[e].score}, this)">save</button></div></td><td><div class="inlineInput"><button class="uiButton cancelButton" onclick="userAdminAction('${t[e].id}', 'revokeKey', this)">logout</button><button class="uiButton cancelButton" onclick="modifyTeamAdmin('${t[e].id}', '${t[e].team}', this)">make team admin</button><button class="uiButton cancelButton" onclick="modifyAdmin('${t[e].id}', this, true)">make admin</button><button class="uiButton cancelButton" onclick="userAdminAction('${t[e].id}', 'delete', this)">delete user</button></div></td></tr>`:n+=`<tr class="padded"><td>${t[e].username} (${t[e].team})</td><td></td><td><div class="inlineInput"><button class="uiButton returnButton" onclick="userAdminAction('${t[e].id}/true', 'access', this)">re-approve user</button><button class="uiButton cancelButton" onclick="userAdminAction('${t[e].id}', 'delete', this)">delete user</button></div></td></tr>`;document.getElementById("tableHeader").insertAdjacentHTML("afterend",n)}).catch(t=>console.log(t))}async function updateUser(n,e,i){i.innerText="...";let u=Number(document.getElementById(`${n}_input`).value)-Number(e);t(`/api/manage/user/points/${n}/${u}/6553`,i.id).then(t=>{3204===t.status?i.innerText="done":i.innerText="error"}).catch(t=>console.log(t))}async function userAdminAction(n,e,i){i.innerText="...",t(`/api/manage/user/${e}/${n}`,i.id).then(t=>{3206===t.status||3207===t.status?i.innerText="done":i.innerText="error"}).catch(t=>console.log(t))}async function modifyAdmin(n,e,i){e.innerText="...",t(`/api/manage/user/updateAdmin/${n}/${i}`,e.id).then(t=>{3206===t.status?e.innerText="done":e.innerText="error"}).catch(t=>console.log(t))}async function modifyTeamAdmin(n,e,i){i.innerText="...",t(`/api/manage/user/updateTeamAdmin/${n}/${e}`,i.id).then(t=>{3206===t.status?i.innerText="done":i.innerText="error"}).catch(t=>console.log(t))}window.getScoutsDataMgmt=getScoutsDataMgmt,window.updateUser=updateUser,window.userAdminAction=userAdminAction,window.modifyAdmin=modifyAdmin,window.modifyTeamAdmin=modifyTeamAdmin;