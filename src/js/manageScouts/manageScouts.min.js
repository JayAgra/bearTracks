import{_get as t}from"../_modules/get/get.min.js";async function getScoutsDataMgmt(){t("/api/scouts",null).then(t=>{for(var n="",i=0;i<t.length;i++)"true"==t[i].accessOk?"true"==t[i].admin?n+=`<tr class="padded"><td>${t[i].nickName} (${t[i].team})</td><td><div class="inlineInput"><input type="tel" id="${t[i].id}_input" value="${t[i].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${t[i].id}', ${t[i].score}, this)">save</button></div></td><td><div class="inlineInput"><button class="uiButton cancelButton" onclick="userAdminAction('${t[i].id}', 'revokeKey', this)">logout</button><button class="uiButton cancelButton" onclick="modifyAdmin('${t[i].id}', this, false)">remove admin</button></div></td></tr>`:0!==t[i].teamAdmin?n+=`<tr class="padded"><td>${t[i].nickName} (${t[i].team})</td><td><div class="inlineInput"><input type="tel" id="${t[i].id}_input" value="${t[i].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${t[i].id}', ${t[i].score}, this)">save</button></div></td><td><div class="inlineInput"><button class="uiButton cancelButton" onclick="userAdminAction('${t[i].id}', 'revokeKey', this)">logout</button><button class="uiButton cancelButton" onclick="modifyTeamAdmin('${t[i].id}', '0', this)">remove team admin</button><button class="uiButton cancelButton" onclick="modifyAdmin('${t[i].id}', this, true)">make admin</button></div></td></tr>`:n+=`<tr class="padded"><td>${t[i].nickName} (${t[i].team})</td><td><div class="inlineInput"><input type="tel" id="${t[i].id}_input" value="${t[i].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${t[i].id}', ${t[i].score}, this)">save</button></div></td><td><div class="inlineInput"><button class="uiButton cancelButton" onclick="userAdminAction('${t[i].id}', 'revokeKey', this)">logout</button><button class="uiButton cancelButton" onclick="modifyTeamAdmin('${t[i].id}', '${t[i].team}', this)">make team admin</button><button class="uiButton cancelButton" onclick="modifyAdmin('${t[i].id}', this, true)">make admin</button></div></td></tr>`:n+=`<tr class="padded"><td>${t[i].nickName} (${t[i].team})</td><td></td><td><div class="inlineInput"><button class="uiButton returnButton" onclick="userAdminAction('${t[i].id}/true', 'access', this)">approve user</button><button class="uiButton cancelButton" onclick="userAdminAction('${t[i].id}', 'delete', this)">delete user</button></div></td></tr>`;document.getElementById("tableHeader").insertAdjacentHTML("afterend",n)}).catch(t=>console.log(t))}async function updateUser(n,i,e){e.innerText="...";let d=Number(document.getElementById(`${n}_input`).value)-Number(i);t(`/api/manage/user/points/${n}/${d}/6553`,e.id).then(t=>{3204===t.status?e.innerText="done":e.innerText="error"}).catch(t=>console.log(t))}async function userAdminAction(n,i,e){e.innerText="...",t(`/api/manage/user/${i}/${n}`,e.id).then(t=>{3206===t.status||3207===t.status?e.innerText="done":e.innerText="error"}).catch(t=>console.log(t))}async function modifyAdmin(n,i,e){i.innerText="...",t(`/api/manage/user/updateAdmin/${n}/${e}`,i.id).then(t=>{3207===t.status?i.innerText="done":i.innerText="error"}).catch(t=>console.log(t))}async function modifyTeamAdmin(n,i,e){e.innerText="...",t(`/api/manage/user/updateTeamAdmin/${n}/${i}`,e.id).then(t=>{3207===t.status?e.innerText="done":e.innerText="error"}).catch(t=>console.log(t))}window.getScoutsDataMgmt=getScoutsDataMgmt,window.updateUser=updateUser,window.userAdminAction=userAdminAction,window.modifyAdmin=modifyAdmin,window.modifyTeamAdmin=modifyTeamAdmin;