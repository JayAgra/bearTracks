import{_get as t}from"../_modules/get/get.min.js";async function getScoutsDataMgmt(){t("/api/scouts",null).then(t=>{for(var e="",n=0;n<t.length;n++)"true"==t[n].accessOk?"true"==t[n].admin?e+=`<tr class="padded"><td>${t[n].nickName} (${t[n].team})</td><td><div class="inlineInput"><input type="tel" id="${t[n].id}_input" value="${t[n].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${t[n].id}', ${t[n].score}, this)">save</button></div></td><td><div class="inlineInput"><button class="uiButton cancelButton" onclick="revokeKey('${t[n].id}', this)">logout</button><button class="uiButton cancelButton" onclick="removeAdmin('${t[n].id}', this)">remove admin</button></div></td></tr>`:0!==t[n].teamAdmin?e+=`<tr class="padded"><td>${t[n].nickName} (${t[n].team})</td><td><div class="inlineInput"><input type="tel" id="${t[n].id}_input" value="${t[n].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${t[n].id}', ${t[n].score}, this)">save</button></div></td><td><div class="inlineInput"><button class="uiButton cancelButton" onclick="revokeKey('${t[n].id}', this)">logout</button><button class="uiButton cancelButton" onclick="removeTeamAdmin('${t[n].id}', this)">remove team admin</button><button class="uiButton cancelButton" onclick="makeAdmin('${t[n].id}', this)">make admin</button></div></td></tr>`:e+=`<tr class="padded"><td>${t[n].nickName} (${t[n].team})</td><td><div class="inlineInput"><input type="tel" id="${t[n].id}_input" value="${t[n].score}" style="min-width: 150px"><button class="uiButton actionButton" onclick="updateUser('${t[n].id}', ${t[n].score}, this)">save</button></div></td><td><div class="inlineInput"><button class="uiButton cancelButton" onclick="revokeKey('${t[n].id}', this)">logout</button><button class="uiButton cancelButton" onclick="makeTeamAdmin('${t[n].id}', '${t[n].team}', this)">make team admin</button><button class="uiButton cancelButton" onclick="makeAdmin('${t[n].id}', this)">make admin</button></div></td></tr>`:e+=`<tr class="padded"><td>${t[n].nickName} (${t[n].team})</td><td></td><td><div class="inlineInput"><button class="uiButton returnButton" onclick="approveUser('${t[n].id}', this)">approve user</button><button class="uiButton cancelButton" onclick="deleteUser('${t[n].id}', this)">delete user</button></div></td></tr>`;document.getElementById("tableHeader").insertAdjacentHTML("afterend",e)}).catch(t=>console.log(t))}async function updateUser(e,n,i){i.innerText="...";let a=Number(document.getElementById(`${e}_input`).value)-Number(n);t(`/api/manage/user/points/${e}/${a}/6553`,i.id).then(t=>{3204===t.status?i.innerText="done":i.innerText="error"}).catch(t=>console.log(t))}async function approveUser(e,n){n.innerText="...",t(`/api/manage/user/access/${e}/true`,n.id).then(t=>{3206===t.status?n.innerText="done":n.innerText="error"}).catch(t=>console.log(t))}async function deleteUser(e,n){n.innerText="...",t(`/api/manage/user/delete/${e}`,n.id).then(t=>{3206===t.status?n.innerText="done":n.innerText="error"}).catch(t=>console.log(t))}async function revokeKey(e,n){n.innerText="...",t(`/api/manage/user/revokeKey/${e}`,n.id).then(t=>{3207===t.status?n.innerText="done":n.innerText="error"}).catch(t=>console.log(t))}async function makeAdmin(e,n){n.innerText="...",t(`/api/manage/user/updateAdmin/${e}/true`,n.id).then(t=>{3207===t.status?n.innerText="done":n.innerText="error"}).catch(t=>console.log(t))}async function removeAdmin(e,n){n.innerText="...",t(`/api/manage/user/updateAdmin/${e}/false`,n.id).then(t=>{3207===t.status?n.innerText="done":n.innerText="error"}).catch(t=>console.log(t))}async function makeTeamAdmin(e,n,i){i.innerText="...",t(`/api/manage/user/updateTeamAdmin/${e}/${n}`,i.id).then(t=>{3207===t.status?i.innerText="done":i.innerText="error"}).catch(t=>console.log(t))}async function removeTeamAdmin(e,n){n.innerText="...",t(`/api/manage/user/updateTeamAdmin/${e}/0`,n.id).then(t=>{3207===t.status?n.innerText="done":n.innerText="error"}).catch(t=>console.log(t))}window.getScoutsDataMgmt=getScoutsDataMgmt,window.updateUser=updateUser,window.approveUser=approveUser,window.deleteUser=deleteUser,window.revokeKey=revokeKey,window.makeAdmin=makeAdmin,window.removeAdmin=removeAdmin,window.makeTeamAdmin=makeTeamAdmin,window.removeTeamAdmin=removeTeamAdmin;