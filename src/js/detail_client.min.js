const error=document.getElementById("errorTxt");function emojiValue(e){return"true"==e?"✅":"❌"}function toIcons(e){return e.replaceAll("0","⬜").replaceAll("1","\uD83D\uDFEA").replaceAll("2","\uD83D\uDFE8").replaceAll("3","❷").replaceAll("4","❷")}function fullGridString(e,r){var t=e.match(/.{1,9}/g),a=[];return a.push(toIcons(t[0])),a.push(toIcons(t[1])),a.push(toIcons(t[2])),a.join(r)}async function loadData(){let e=new URLSearchParams(window.location.search),r=e.get("id");try{if(response=await fetch(`/api/data/detail/id/${r}`,{method:"GET",credentials:"include",redirect:"follow"}),401===response.status||403===response.status){window.location.href="/login";return}204===response.status&&(error.innerText="no results",error.style.display="unset");let t=await response.json();var a=`<b>Author:</b> ${t.discordName}#${t.discordTag}<br><br><b>AUTO: <br>Taxi: </b>${emojiValue(t.game1)}<br><b>Score B/M/T: </b>${emojiValue(t.game2)}${emojiValue(t.game3)}${emojiValue(t.game4)}<br><b>Charging: </b>${t.game5} pts<br><br><b>TELEOP: <br>Score B/M/T: </b>${emojiValue(t.game6)}${emojiValue(t.game7)}${emojiValue(t.game8)}<br><b>Charging: </b>${t.game10} pts<br><br><b>Other: <br>Alliance COOPERTITION: </b>${emojiValue(t.game9)}<br><b>Cycle Time: </b>${t.game11} seconds<br><b>Defense: </b>${t.defend}<br><b>Driving: </b>${t.driving}<br><b>Overall: </b>${t.overall}<br><b>Grid:<br>${fullGridString(t.game12.toString(),"<br>")}<br><br><b>low/mid/high cubes - cones: </b>${t.game21}/${t.game14}/${t.game16} - ${t.game13}/${t.game15}/${t.game17}<br><b>low/mid/high pcs: </b>${t.game18}/${t.game19}/${t.game20}<br><b>cubes/cones: </b>${t.game23}/${t.game24}<br><b>total grid: </b>${t.game25}pts<br><b>Match Performance Score: </b>${Number(t.weight.split(",")[0]).toFixed(2)}`;document.getElementById("resultTeamNum").innerText=t.team,document.getElementById("resultMatchNum").innerText=t.match,document.getElementById("resultEventCode").innerText=t.event,document.getElementById("resultText").innerHTML=a}catch(l){error.innerText="no results",error.style.display="unset",console.error(l)}}function goToHome(){window.location.href="/"}