const waitMs=e=>new Promise(t=>setTimeout(t,e));function removeURLParams(){window.location.href="/pitimages"}function goToHome(){window.location.href="/"}function searchImg(){document.getElementById("searchBtn").innerHTML="Requesting Data...";let e=document.getElementById("teamInput").value,t=document.getElementById("eventInput").value,n=new XMLHttpRequest;n.open("GET",`/api/pit/2023/${t}/${e}`,!0),n.withCredentials=!0,n.onreadystatechange=async()=>{if(n.readyState===XMLHttpRequest.DONE&&200===n.status){if(""===n.responseText)document.getElementById("searchBtn").innerHTML="No results!";else{console.log("200 ok"),console.log(n.responseText);let e=JSON.parse(n.responseText);console.log(e),document.getElementById("searchBtn").innerHTML="Rendering...",document.getElementById("resultsTeamNumber").innerText=e.team,document.getElementById("resultsEventCode").innerText=e.event,document.getElementById("resultsbody").innerHTML=`<p>Scout: ${e.discordName}#${e.discordTag}</p><p>Drive Type: ${e.drivetype}</p><p>Pit Scouting Assesment: ${e.overall}</p><br><img src="images/${e.image1}" alt="robot image from pit scouting (1)"/><br><img src="images/${e.image2}" alt="robot image from pit scouting (2)"/><br><img src="images/${e.image3}" alt="robot image from pit scouting (3)"/><br><img src="images/${e.image4}" alt="robot image from pit scouting (4)"/><br><img src="images/${e.image5}" alt="robot image from pit scouting (5)"/>`,document.getElementById("searchsect").style.display="none",document.getElementById("resultsect").style.display="block"}}else 401===n.status?(console.log("401 failure"),document.getElementById("searchBtn").innerHTML="401 Unauthorized",await waitMs(1e3),window.location.href="/login"):400===n.status?(console.log("400 failure"),document.getElementById("searchBtn").innerHTML="400 Bad Request"):500===n.status?(console.log("500 failure"),document.getElementById("searchBtn").innerHTML="500 Internal Server Error"):404===n.status?(console.log("404 not found"),document.getElementById("searchBtn").innerHTML="404 Not Found"):(console.log("awaiting response"),document.getElementById("searchBtn").innerHTML="Downloading Data...")},n.send()}