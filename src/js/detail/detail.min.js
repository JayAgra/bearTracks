const errElement=document.getElementById("errorTxt");function emojiValue(e){return"true"==e?"✅":"❌"}function toIcons(e){return e.replaceAll("0","⬜").replaceAll("1","\uD83D\uDFEA").replaceAll("2","\uD83D\uDFE8").replaceAll("3","❷").replaceAll("4","❷")}function fullGridString(e,r){var t=e.match(/.{1,9}/g),a=[];return a.push(toIcons(t[0])),a.push(toIcons(t[1])),a.push(toIcons(t[2])),a.join(r)}async function loadData(){let e=new URLSearchParams(window.location.search),r=e.get("id");try{var t=await fetch(`/api/data/detail/id/${r}`,{method:"GET",credentials:"include",redirect:"follow"});if(401===t.status||403===t.status){window.location.href="/login";return}204===t.status&&(errElement.innerText="no results",errElement.style.display="unset");let a=await t.json();var l=`<b>Author:</b> ${a.name} (from team ${a.fromTeam})<br><br><b>AUTO: <br>Taxi: </b>${emojiValue(a.game1)}<br><b>Score B/M/T: </b>${emojiValue(a.game2)}${emojiValue(a.game3)}${emojiValue(a.game4)}<br><b>Charging: </b>${a.game5} pts<br><br><b>TELEOP: <br>Score B/M/T: </b>${emojiValue(a.game6)}${emojiValue(a.game7)}${emojiValue(a.game8)}<br><b>Charging: </b>${a.game10} pts<br><br><b>Other: <br>Alliance COOPERTITION: </b>${emojiValue(a.game9)}<br><b>Cycle Time: </b>${a.game11} seconds<br><b>Defense: </b>${a.defend}<br><b>Driving: </b>${a.driving}<br><b>Overall: </b>${a.overall}<br><b>Grid:<br>${fullGridString(a.game12.toString(),"<br>")}<br><br><b>low/mid/high cubes - cones: </b>${a.game21}/${a.game14}/${a.game16} - ${a.game13}/${a.game15}/${a.game17}<br><b>low/mid/high pcs: </b>${a.game18}/${a.game19}/${a.game20}<br><b>cubes/cones: </b>${a.game23}/${a.game24}<br><b>total grid: </b>${a.game25}pts<br><b>Match Performance Score: </b>${Number(a.weight.split(",")[0]).toFixed(2)}`;document.getElementById("resultTeamNum").innerText=a.team,document.getElementById("resultMatchNum").innerText=a.match,document.getElementById("resultEventCode").innerText=a.event,document.getElementById("resultText").innerHTML=l}catch(n){errElement.innerText="no results",errElement.style.display="unset",console.error(n)}}