const waitMs=e=>new Promise(t=>setTimeout(t,e));function goToHome(){window.location.href="/"}async function getTeamRanks(){eventCode=document.getElementById("eventCode").value,document.getElementById("viewTeamsButton").innerText="Requesting Data...";let e=new XMLHttpRequest;e.open("GET",`/api/teams/2023/${eventCode}`,!0),e.withCredentials=!0,e.onreadystatechange=async()=>{e.readyState===XMLHttpRequest.DONE&&200===e.status?(console.log("200 ok"),console.log(e.responseText),document.getElementById("viewTeamsButton").innerText="Rendering View...",document.getElementById("preInsert").insertAdjacentHTML("afterend",e.responseText),document.getElementById("search").style.display="none",document.getElementById("results").style.display="flex",document.getElementById("eventCodeDisplay").innerText=`Top teams at ${eventCode}`,document.getElementById("viewTeamsButton").innerText="View"):401===e.status?(console.log("401 failure"),document.getElementById("viewTeamsButton").innerText="401 Unauthorized",await waitMs(1e3),window.location.href="/login"):400===e.status?(console.log("400 failure"),document.getElementById("viewTeamsButton").innerText="400 Bad Request"):500===e.status?(console.log("500 failure"),document.getElementById("viewTeamsButton").innerText="500 Internal Server Error"):(console.log("awaiting response"),document.getElementById("viewTeamsButton").innerText="Downloading Data...")},e.send()}