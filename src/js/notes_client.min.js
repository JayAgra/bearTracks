var quill=new Quill("#editor",{theme:"snow"});function goToHome(){history.back()}async function getNote(){var e=document.getElementById("eventCode").value,t=document.getElementById("teamNumber").value;window.currentEvent=e,window.currentTeam=t,document.getElementById("viewNoteButton").innerHTML="Requesting Data...";let n=new XMLHttpRequest;n.open("GET",`/api/notes/${e}/${t}/getNotes`,!0),n.withCredentials=!0,n.onreadystatechange=async()=>{if(n.readyState===XMLHttpRequest.DONE&&200===n.status)console.log("200 ok"),console.log(n.responseText),document.getElementById("viewNoteButton").innerHTML="Rendering View...",document.getElementById("searchContainer").style.display="none",document.getElementById("edit").style.display="inherit",document.getElementById("editor").style.display="inherit",document.getElementById("viewNoteButton").innerHTML="View",quill.setContents(JSON.parse(n.responseText));else if(401===n.status||403===n.status)window.location.href="/login";else if(400===n.status)document.getElementById("viewNoteButton").innerHTML="bad request";else if(500===n.status)document.getElementById("viewNoteButton").innerHTML="500 Internal Server Error";else if(204===n.status&&n.responseText==String(3266)){let a=new XMLHttpRequest;a.open("GET",`/api/notes/${e}/${t}/createNote`,!0),a.withCredentials=!0,a.onreadystatechange=async()=>{a.readyState===XMLHttpRequest.DONE&&200===a.status?a.responseText==String(3201)&&getNote():401===a.status||403===a.status?window.location.href="/login":400===a.status?document.getElementById("viewNoteButton").innerHTML="bad request":500===a.status?document.getElementById("viewNoteButton").innerHTML="internal server error":document.getElementById("viewNoteButton").innerHTML="downloading data..."},a.send()}else document.getElementById("viewNoteButton").innerHTML="Downloading Data..."},n.send()}function saveNote(){let e=document.getElementById("eventCode").value,t=document.getElementById("teamNumber").value;document.getElementById("saveNoteButton").innerHTML="Saving Data...";let n=new XMLHttpRequest;n.open("POST",`/api/notes/${e}/${t}/updateNotes`,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.withCredentials=!0,n.onreadystatechange=async()=>{n.readyState===XMLHttpRequest.DONE&&200===n.status?(document.getElementById("saveNoteButton").innerHTML="rendering...",document.getElementById("saveNoteButton").innerHTML="saved!",await waitMs(1e3),document.getElementById("saveNoteButton").innerHTML="save"):401===n.status||403===n.status?window.location.href="/login":400===n.status?document.getElementById("viewNoteButton").innerHTML="bad request":500===n.status?document.getElementById("viewNoteButton").innerHTML="internal server error":document.getElementById("viewNoteButton").innerHTML="downloading data..."},n.send("save="+JSON.stringify(quill.getContents()))}window.currentEvent=0,window.currentTeam=0,document.getElementById("editor").style.display="none";