var blackjackSocket;const waitMs=e=>new Promise(a=>setTimeout(a,e));function goToHome(){window.location.href="/points"}function startBlackjack(){setupBoard(),(blackjackSocket=new WebSocket("/api/casino/blackjack/blackjackSocket")).addEventListener("open",()=>{console.info("blackjack socket opened")}),blackjackSocket.addEventListener("close",()=>{console.info("blackjack socket closed")}),blackjackSocket.onmessage=async e=>{let a=JSON.parse(e.data);console.log(a),a.card?(drawCard(`assets/progcards/card-${a.card.suit}_${a.card.value}.png`,a.target),window.disableInputs=!1):(a.playerResult||a.dealerResult)&&(alert(a.playerResult),console.log(a))}}function setupBoard(){document.getElementById("start").style.display="none",document.getElementById("game").style.display="inline";let e=Math.min(document.documentElement.clientWidth/70,document.documentElement.clientHeight/142);document.getElementsByClassName("bjContainer")[0].style.transform=`scale(${e})`}function drawCard(e,a){document.getElementsByClassName(a)[0].src=e}window.disableInputs=!1,document.getElementsByClassName("hit")[0].onclick=e=>{window.disableInputs||(blackjackSocket.send("hit"),window.disableInputs=!0)},document.getElementsByClassName("stand")[0].onclick=e=>{window.disableInputs||(blackjackSocket.send("stand"),window.disableInputs=!0)};